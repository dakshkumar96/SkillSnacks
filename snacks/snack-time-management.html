<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Better Sleep Hygiene — SkillSnacks</title>
  <meta name="description" content="Better Sleep Hygiene — a 5-minute SkillSnack: simple evening routines and breathing exercises to fall asleep faster and wake refreshed.">
  <link rel="stylesheet" href="stylesheet.css"> <!-- adjust path if needed -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Proza+Libre:wght@400;600&display=swap" rel="stylesheet">
  <meta name="author" content="SkillSnacks">
  <!-- Basic structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LearningResource",
    "name": "Better Sleep Hygiene",
    "description": "A 5-minute micro-lesson on pre-sleep routines and breathing exercises to help you sleep better.",
    "educationalUse": "Self-directed learning",
    "timeRequired": "PT5M"
  }
  </script>
</head>
<body data-page="snack" data-slug="sleep-hygiene">

  <!-- SITE HEADER -->
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="logo" href="../index.html" aria-label="SkillSnacks home">SkillSnacks</a>
      <nav class="site-nav" role="navigation" aria-label="Main menu">
        <ul class="nav-list">
          <li><a class="nav-link" href="../index.html">Home</a></li>
          <li><a class="nav-link" href="../library.html">Library</a></li>
          <li><a class="nav-link" href="../dashboard.html">Dashboard</a></li>
          <li><a class="nav-link" href="../about.html">About</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container snack-page" id="main" role="main" aria-labelledby="snack-title">
    <article class="snack-article" aria-labelledby="snack-title" data-slug="sleep-hygiene">
      <header class="snack-header">
        <h1 id="snack-title" class="snack-title">Better Sleep Hygiene</h1>
        <p class="snack-meta" aria-hidden="false"><strong>Category:</strong> Health • <strong>Duration:</strong> 5 minutes</p>
        <p class="snack-summary">Quick, practical changes you can try tonight to fall asleep faster and wake up refreshed.</p>
      </header>

      <!-- Intro -->
      <section class="snack-intro" aria-labelledby="intro-heading">
        <h2 id="intro-heading" class="visually-hidden">Intro</h2>
        <p><strong>Estimated time:</strong> 5 minutes • <strong>Difficulty:</strong> Very easy</p>
        <p class="lead">Small, consistent changes in the hour before bed—light, screen time, temperature, and a short breathing routine—help your body switch from “wake” to “sleep.” This snack gives a tiny, practical routine you can try tonight.</p>
      </section>

      <!-- Objectives -->
      <section class="snack-objectives" aria-labelledby="objectives-heading">
        <h2 id="objectives-heading">What you'll learn</h2>
        <ul>
          <li>A simple 3-step pre-sleep routine to try tonight.</li>
          <li>A short breathing exercise to calm your nervous system.</li>
          <li>Small environmental changes that improve sleep quality.</li>
        </ul>
      </section>

      <!-- Core Idea -->
      <section class="snack-core" aria-labelledby="core-heading">
        <h2 id="core-heading">The core idea</h2>
        <p>Sleep is regulated by routines and signals. By reducing bright light and stimulation, cooling your room, and using a short breathing routine, you send clear signals to your body that it's time to rest.</p>
      </section>

      <!-- Steps -->
      <section class="snack-steps" aria-labelledby="steps-heading">
        <h2 id="steps-heading">3-step action plan</h2>
        <ol>
          <li><strong>Wind down 30 minutes before bed:</strong> stop screens or switch to warm night mode. Use this time for a calm activity like reading or gentle stretching.</li>
          <li><strong>Set the scene:</strong> make the room cool (about 16–20°C / 60–68°F), dark and quiet. Use earplugs or a sleep mask if needed.</li>
          <li><strong>Do a 1-minute box breathing routine:</strong> inhale 4s → hold 4s → exhale 4s → hold 4s. Repeat 3–4 times while relaxing your shoulders and jaw.</li>
        </ol>
      </section>

      <!-- Mini Exercise -->
      <section class="snack-exercise" aria-labelledby="exercise-heading">
        <h2 id="exercise-heading">Try it — 1 minute exercise</h2>
        <p>Set a 1-minute timer. Sit or lie comfortably and do 3 rounds of box breathing (4-4-4-4). Notice how your body feels after the exercise.</p>
        <p><strong>Quick script you can say to yourself before bed:</strong></p>
        <pre class="mini-template" aria-hidden="false">I will put my phone away, dim the lights, and do one minute of deep breathing. Tonight I aim to sleep earlier and feel rested tomorrow.</pre>
      </section>

      <!-- Tips & Mistakes -->
      <section class="snack-tips" aria-labelledby="tips-heading">
        <h2 id="tips-heading">Practical tips & common mistakes</h2>
        <ul>
          <li><strong>Tip:</strong> Try to keep wake-up time consistent — that helps set your internal clock.</li>
          <li><strong>Tip:</strong> Avoid heavy meals and intense exercise right before bed; light stretching is OK.</li>
          <li><strong>Don't:</strong> Use your bed as a workspace — keep it reserved for sleep and rest.</li>
        </ul>
      </section>

      <!-- Resources -->
      <section class="snack-resources" aria-labelledby="resources-heading">
        <h2 id="resources-heading">Resources</h2>
        <ul>
          <li><a href="https://www.sleepfoundation.org/" target="_blank" rel="noopener">Sleep Foundation — tips and guides</a></li>
          <li><a href="https://www.nhs.uk/live-well/sleep-and-tiredness/" target="_blank" rel="noopener">NHS — sleep advice</a></li>
          <li><a href="resources/sleep-checklist.txt" download>Download: Quick sleep-checklist (TXT)</a></li>
        </ul>
      </section>

      <!-- Key takeaways -->
      <section class="snack-takeaways" aria-labelledby="takeaways-heading">
        <h2 id="takeaways-heading">Key takeaways</h2>
        <ul>
          <li>Small routine changes tonight can improve sleep quality tomorrow.</li>
          <li>Use environmental cues (dark, cool, quiet) and a short breathing routine to signal sleep time.</li>
        </ul>
      </section>

      <!-- Reflection (user input) -->
      <section class="snack-reflect" aria-labelledby="reflect-heading">
        <h2 id="reflect-heading">Reflection</h2>
        <p>Which one small change will you try tonight? (e.g., turn off screens 30 minutes earlier, or do box breathing). Write one short sentence — it will be saved locally in your browser.</p>

        <label for="reflection-textarea" class="sr-only">Write your reflection</label>
        <textarea id="reflection-textarea" name="reflection" rows="3" placeholder="My plan (one sentence)" style="width:100%;max-width:800px;"></textarea>
        <div class="reflection-actions" style="margin-top:0.5rem;">
          <button id="save-reflection" class="btn--secondary" type="button">Save note</button>
          <button id="clear-reflection" class="btn--tertiary" type="button">Clear</button>
          <span id="reflection-status" class="status-msg" aria-live="polite" style="margin-left:0.6rem;"></span>
        </div>
      </section>

      <!-- Actions -->
      <footer class="snack-footer" aria-label="Actions">
        <div class="snack-cta" style="display:flex;gap:.75rem;align-items:center;margin-top:1rem;">
          <button id="mark-done-btn" class="btn--primary" type="button" aria-pressed="false">Mark as Done</button>
          <a class="btn--secondary" href="../library.html">Back to Library</a>
          <span class="status-msg" id="snack-status" aria-live="polite" style="margin-left:1rem;"></span>
        </div>
      </footer>
    </article>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <div class="footer-about">
        <h3>About SkillSnacks</h3>
        <p>Bite-sized learning for real-world skills. Small steps, big impact.</p>
      </div>
      <nav class="footer-links" role="navigation" aria-label="Footer menu">
        <ul class="footer-nav-list">
          <li><a href="../index.html">Home</a></li>
          <li><a href="../library.html">Library</a></li>
          <li><a href="../dashboard.html">Dashboard</a></li>
          <li><a href="../about.html">About</a></li>
        </ul>
      </nav>
      <div class="footer-legal">
        <p>© 2025 SkillSnacks</p>
      </div>
    </div>
  </footer>

  <!-- SCRIPTS (hook these up to your global script.js / main.js) -->
  <script src="script.js" defer></script>
  <script>
    // Minimal inline helpers for localStorage saving/loading and mark done (self-contained)
    (function(){
      const slug = 'sleep-hygiene';
      const markBtn = document.getElementById('mark-done-btn');
      const status = document.getElementById('snack-status');
      const reflectionTextarea = document.getElementById('reflection-textarea');
      const saveBtn = document.getElementById('save-reflection');
      const clearBtn = document.getElementById('clear-reflection');
      const reflectionStatus = document.getElementById('reflection-status');

      // Keys
      const doneKey = 'snacks_done'; // stores array of slugs
      const reflectionKey = 'snack_reflection_' + slug; // stores single string per snack

      // Load saved reflection (if any)
      try {
        const saved = localStorage.getItem(reflectionKey);
        if (saved) reflectionTextarea.value = saved;
      } catch(e){ /* ignore */ }

      // Save reflection
      if (saveBtn) saveBtn.addEventListener('click', () => {
        try {
          localStorage.setItem(reflectionKey, reflectionTextarea.value || '');
          reflectionStatus.textContent = 'Saved.';
          setTimeout(()=> reflectionStatus.textContent = '', 1800);
        } catch(e){
          reflectionStatus.textContent = 'Unable to save locally.';
          setTimeout(()=> reflectionStatus.textContent = '', 2000);
        }
      });

      // Clear reflection
      if (clearBtn) clearBtn.addEventListener('click', () => {
        reflectionTextarea.value = '';
        try { localStorage.removeItem(reflectionKey); } catch(e){}
        reflectionStatus.textContent = 'Cleared.';
        setTimeout(()=> reflectionStatus.textContent = '', 1500);
      });

      // Utility to get done array
      function getDoneArray() {
        try {
          return JSON.parse(localStorage.getItem(doneKey) || '[]');
        } catch(e) { return []; }
      }

      // Utility to save done array
      function setDoneArray(arr) {
        try {
          localStorage.setItem(doneKey, JSON.stringify(arr));
          return true;
        } catch(e) { return false; }
      }

      // Update Mark Done button UI
      function updateUI() {
        const done = getDoneArray();
        const doneFlag = done.includes(slug);
        if (markBtn) {
          markBtn.textContent = doneFlag ? 'Completed ✓' : 'Mark as Done';
          markBtn.setAttribute('aria-pressed', doneFlag ? 'true' : 'false');
        }
      }

      // Initialize UI on load
      document.addEventListener('DOMContentLoaded', () => {
        updateUI();
      });

      // Set up mark button
      if (markBtn) {
        markBtn.addEventListener('click', () => {
          try {
            const done = getDoneArray();
            if (!done.includes(slug)) {
              // add with date for potential dashboard use
              done.push(slug);
              // store separate list of objects for activity (optional)
              let completedSnacks = JSON.parse(localStorage.getItem('completedSnacks') || '[]');
              const today = new Date().toISOString().split('T')[0];
              completedSnacks.push({ slug: slug, title: "Better Sleep Hygiene", date: today });
              localStorage.setItem('completedSnacks', JSON.stringify(completedSnacks));

              setDoneArray(done);
              updateUI();
              status.textContent = 'Marked complete. Nice work!';
            } else {
              status.textContent = 'You already completed this snack.';
            }
          } catch(e) {
            status.textContent = 'Unable to update.';
          }
          setTimeout(()=> status.textContent = '', 1800);
        });
      }
    })();
  </script>
</body>
</html>
